{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nfunction VideoGridComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 4);\n    i0.ɵɵlistener(\"click\", function VideoGridComponent_div_2_Template_div_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const video_r3 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.onVideoClick(video_r3));\n    });\n    i0.ɵɵelement(1, \"img\", 5);\n    i0.ɵɵelementStart(2, \"h3\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\");\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"number\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const video_r3 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", video_r3.thumbnailUrl, i0.ɵɵsanitizeUrl)(\"alt\", video_r3.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(video_r3.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Views: \", i0.ɵɵpipeBind1(6, 4, video_r3.viewCount), \"\");\n  }\n}\nfunction VideoGridComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 6);\n    i0.ɵɵtext(1, \"Loading more videos...\");\n    i0.ɵɵelementEnd();\n  }\n}\nclass VideoGridComponent {\n  constructor() {\n    this.videos = [];\n    this.isLoading = false;\n    this.videoSelect = new EventEmitter();\n    this.loadMore = new EventEmitter();\n    this.scrollThreshold = 0.8; // Load more when user scrolls 80% down\n  }\n\n  onScroll() {\n    if (this.isLoading) return;\n    const windowHeight = window.innerHeight;\n    const documentHeight = document.documentElement.scrollHeight;\n    const scrollTop = window.pageYOffset || document.documentElement.scrollTop;\n    const scrolledPercentage = (scrollTop + windowHeight) / documentHeight;\n    if (scrolledPercentage > this.scrollThreshold) {\n      this.loadMore.emit();\n    }\n  }\n  onVideoClick(video) {\n    this.videoSelect.emit(video);\n  }\n  static {\n    this.ɵfac = function VideoGridComponent_Factory(t) {\n      return new (t || VideoGridComponent)();\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: VideoGridComponent,\n      selectors: [[\"app-video-grid\"]],\n      hostBindings: function VideoGridComponent_HostBindings(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵlistener(\"scroll\", function VideoGridComponent_scroll_HostBindingHandler() {\n            return ctx.onScroll();\n          }, false, i0.ɵɵresolveWindow);\n        }\n      },\n      inputs: {\n        videos: \"videos\",\n        isLoading: \"isLoading\"\n      },\n      outputs: {\n        videoSelect: \"videoSelect\",\n        loadMore: \"loadMore\"\n      },\n      decls: 4,\n      vars: 2,\n      consts: [[1, \"video-grid\"], [\"gridContainer\", \"\"], [\"class\", \"video-card\", 3, \"click\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"loading\", 4, \"ngIf\"], [1, \"video-card\", 3, \"click\"], [3, \"src\", \"alt\"], [1, \"loading\"]],\n      template: function VideoGridComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0, 1);\n          i0.ɵɵtemplate(2, VideoGridComponent_div_2_Template, 7, 6, \"div\", 2);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(3, VideoGridComponent_div_3_Template, 2, 0, \"div\", 3);\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngForOf\", ctx.videos);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.isLoading);\n        }\n      },\n      dependencies: [i1.NgForOf, i1.NgIf, i1.DecimalPipe],\n      styles: [\".video-grid[_ngcontent-%COMP%] {\\n  display: grid;\\n  grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));\\n  gap: 1rem;\\n}\\n\\n.video-card[_ngcontent-%COMP%] {\\n  cursor: pointer;\\n  background: white;\\n  padding: 0.5rem;\\n  border-radius: 4px;\\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\\n  transition: transform 0.2s;\\n}\\n\\n.video-card[_ngcontent-%COMP%]:hover {\\n  transform: translateY(-2px);\\n}\\n\\nimg[_ngcontent-%COMP%] {\\n  width: 100%;\\n  height: auto;\\n  border-radius: 4px;\\n}\\n\\nh3[_ngcontent-%COMP%] {\\n  margin: 0.5rem 0;\\n  font-size: 1rem;\\n  display: -webkit-box;\\n  -webkit-line-clamp: 2;\\n  -webkit-box-orient: vertical;\\n  overflow: hidden;\\n}\\n\\n.loading[_ngcontent-%COMP%] {\\n  text-align: center;\\n  padding: 1rem;\\n  font-style: italic;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy92aWRlby1ncmlkL3ZpZGVvLWdyaWQuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNJO0VBQ0UsYUFBQTtFQUNBLDREQUFBO0VBQ0EsU0FBQTtBQUFOOztBQUVJO0VBQ0UsZUFBQTtFQUNBLGlCQUFBO0VBQ0EsZUFBQTtFQUNBLGtCQUFBO0VBQ0Esd0NBQUE7RUFDQSwwQkFBQTtBQUNOOztBQUNJO0VBQ0UsMkJBQUE7QUFFTjs7QUFBSTtFQUNFLFdBQUE7RUFDQSxZQUFBO0VBQ0Esa0JBQUE7QUFHTjs7QUFESTtFQUNFLGdCQUFBO0VBQ0EsZUFBQTtFQUNBLG9CQUFBO0VBQ0EscUJBQUE7RUFDQSw0QkFBQTtFQUNBLGdCQUFBO0FBSU47O0FBRkk7RUFDRSxrQkFBQTtFQUNBLGFBQUE7RUFDQSxrQkFBQTtBQUtOIiwic291cmNlc0NvbnRlbnQiOlsiXG4gICAgLnZpZGVvLWdyaWQge1xuICAgICAgZGlzcGxheTogZ3JpZDtcbiAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KGF1dG8tZmlsbCwgbWlubWF4KDI1MHB4LCAxZnIpKTtcbiAgICAgIGdhcDogMXJlbTtcbiAgICB9XG4gICAgLnZpZGVvLWNhcmQge1xuICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgYmFja2dyb3VuZDogd2hpdGU7XG4gICAgICBwYWRkaW5nOiAwLjVyZW07XG4gICAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgICBib3gtc2hhZG93OiAwIDJweCA0cHggcmdiYSgwLDAsMCwwLjEpO1xuICAgICAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDAuMnM7XG4gICAgfVxuICAgIC52aWRlby1jYXJkOmhvdmVyIHtcbiAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMnB4KTtcbiAgICB9XG4gICAgaW1nIHtcbiAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgaGVpZ2h0OiBhdXRvO1xuICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICAgIH1cbiAgICBoMyB7XG4gICAgICBtYXJnaW46IDAuNXJlbSAwO1xuICAgICAgZm9udC1zaXplOiAxcmVtO1xuICAgICAgZGlzcGxheTogLXdlYmtpdC1ib3g7XG4gICAgICAtd2Via2l0LWxpbmUtY2xhbXA6IDI7XG4gICAgICAtd2Via2l0LWJveC1vcmllbnQ6IHZlcnRpY2FsO1xuICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICB9XG4gICAgLmxvYWRpbmcge1xuICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgcGFkZGluZzogMXJlbTtcbiAgICAgIGZvbnQtc3R5bGU6IGl0YWxpYztcbiAgICB9XG4gICJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n    });\n  }\n}\nexport { VideoGridComponent };","map":{"version":3,"names":["EventEmitter","i0","ɵɵelementStart","ɵɵlistener","VideoGridComponent_div_2_Template_div_click_0_listener","restoredCtx","ɵɵrestoreView","_r5","video_r3","$implicit","ctx_r4","ɵɵnextContext","ɵɵresetView","onVideoClick","ɵɵelement","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵproperty","thumbnailUrl","ɵɵsanitizeUrl","title","ɵɵtextInterpolate","ɵɵtextInterpolate1","ɵɵpipeBind1","viewCount","VideoGridComponent","constructor","videos","isLoading","videoSelect","loadMore","scrollThreshold","onScroll","windowHeight","window","innerHeight","documentHeight","document","documentElement","scrollHeight","scrollTop","pageYOffset","scrolledPercentage","emit","video","selectors","hostBindings","VideoGridComponent_HostBindings","rf","ctx","ɵɵresolveWindow","ɵɵtemplate","VideoGridComponent_div_2_Template","VideoGridComponent_div_3_Template"],"sources":["C:\\playground\\malayalm-tube\\src\\app\\components\\video-grid\\video-grid.component.ts"],"sourcesContent":["import { Component, Input, Output, EventEmitter, HostListener } from '@angular/core';\r\nimport { Video } from '../../models/video';\r\n\r\n@Component({\r\n  selector: 'app-video-grid',\r\n  template: `\r\n    <div class=\"video-grid\" #gridContainer>\r\n      <div *ngFor=\"let video of videos\" class=\"video-card\" (click)=\"onVideoClick(video)\">\r\n        <img [src]=\"video.thumbnailUrl\" [alt]=\"video.title\">\r\n        <h3>{{video.title}}</h3>\r\n        <p>Views: {{video.viewCount | number}}</p>\r\n      </div>\r\n    </div>\r\n    <div class=\"loading\" *ngIf=\"isLoading\">Loading more videos...</div>\r\n  `,\r\n  styles: [`\r\n    .video-grid {\r\n      display: grid;\r\n      grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));\r\n      gap: 1rem;\r\n    }\r\n    .video-card {\r\n      cursor: pointer;\r\n      background: white;\r\n      padding: 0.5rem;\r\n      border-radius: 4px;\r\n      box-shadow: 0 2px 4px rgba(0,0,0,0.1);\r\n      transition: transform 0.2s;\r\n    }\r\n    .video-card:hover {\r\n      transform: translateY(-2px);\r\n    }\r\n    img {\r\n      width: 100%;\r\n      height: auto;\r\n      border-radius: 4px;\r\n    }\r\n    h3 {\r\n      margin: 0.5rem 0;\r\n      font-size: 1rem;\r\n      display: -webkit-box;\r\n      -webkit-line-clamp: 2;\r\n      -webkit-box-orient: vertical;\r\n      overflow: hidden;\r\n    }\r\n    .loading {\r\n      text-align: center;\r\n      padding: 1rem;\r\n      font-style: italic;\r\n    }\r\n  `]\r\n})\r\nexport class VideoGridComponent {\r\n  @Input() videos: Video[] = [];\r\n  @Input() isLoading = false;\r\n  @Output() videoSelect = new EventEmitter<Video>();\r\n  @Output() loadMore = new EventEmitter<void>();\r\n\r\n  private scrollThreshold = 0.8; // Load more when user scrolls 80% down\r\n\r\n  @HostListener('window:scroll')\r\n  onScroll(): void {\r\n    if (this.isLoading) return;\r\n\r\n    const windowHeight = window.innerHeight;\r\n    const documentHeight = document.documentElement.scrollHeight;\r\n    const scrollTop = window.pageYOffset || document.documentElement.scrollTop;\r\n    \r\n    const scrolledPercentage = (scrollTop + windowHeight) / documentHeight;\r\n    \r\n    if (scrolledPercentage > this.scrollThreshold) {\r\n      this.loadMore.emit();\r\n    }\r\n  }\r\n\r\n  onVideoClick(video: Video) {\r\n    this.videoSelect.emit(video);\r\n  }\r\n} "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}